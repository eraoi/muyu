<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>在线祈福 - 电子木鱼</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@500;700&display=swap');

        :root {
            --bg-color: #f2e6ce; /* 仿羊皮纸/浅黄背景 */
            --primary-gold: #d4af37; /* 佛光金 */
            --deep-red: #800000; /* 寺庙红 */
            --wood-dark: #4a3b2a; /* 檀木色 */
            --text-color: #2c1e1e;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-color);
            /* 背景纹理：淡淡的祥云或光晕感 */
            background-image: radial-gradient(circle at center, #fff5e6 0%, #e6d5b8 100%);
            font-family: 'Noto Serif SC', 'SimSun', serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
            user-select: none;
        }

        /* 装饰性对联 */
        .couplet {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 2rem;
            color: var(--deep-red);
            writing-mode: vertical-rl;
            letter-spacing: 10px;
            opacity: 0.8;
            pointer-events: none;
        }
        .couplet.left { left: 10%; }
        .couplet.right { right: 10%; }

        /* 标题区域 */
        header {
            position: absolute;
            top: 10%;
            text-align: center;
        }
        
        h1 {
            font-size: 2rem;
            color: var(--deep-red);
            margin-bottom: 10px;
            font-weight: 700;
            letter-spacing: 5px;
        }

        .counter-box {
            font-size: 1.2rem;
            color: var(--wood-dark);
            background: rgba(255, 255, 255, 0.5);
            padding: 5px 20px;
            border-radius: 20px;
            border: 1px solid var(--primary-gold);
        }

        /* 木鱼容器 */
        .muyu-container {
            position: relative;
            width: 260px;
            height: 260px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 10;
            /* 背后光晕 */
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
        }

        /* SVG 木鱼样式 */
        #muyu-svg {
            width: 100%;
            height: 100%;
            fill: #5c4033; /* 木头颜色 */
            transition: transform 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* 敲击时的缩放动画 */
        .muyu-active #muyu-svg {
            transform: scale(0.95);
        }

        /* 佛光涟漪动画 */
        .ripple {
            position: absolute;
            border-radius: 50%;
            border: 2px solid var(--primary-gold);
            opacity: 0;
            pointer-events: none;
            animation: rippleEffect 1s ease-out forwards;
            box-shadow: 0 0 15px var(--primary-gold);
        }

        @keyframes rippleEffect {
            0% {
                width: 200px;
                height: 200px;
                opacity: 0.8;
                transform: scale(1);
                border-width: 5px;
            }
            100% {
                width: 400px;
                height: 400px;
                opacity: 0;
                transform: scale(1.5);
                border-width: 0px;
            }
        }

        /* 功德+1 飘字动画 */
        .merit-text {
            position: absolute;
            color: var(--primary-gold);
            font-weight: bold;
            font-size: 1.5rem;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
            font-family: 'Ma Shan Zheng', cursive;
            white-space: nowrap;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(-40px) scale(0.8);
                opacity: 0;
            }
            20% {
                opacity: 1;
                transform: translateY(-60px) scale(1.2);
            }
            100% {
                transform: translateY(-120px) scale(1);
                opacity: 0;
            }
        }

        /* 底部提示 */
        footer {
            position: absolute;
            bottom: 5%;
            color: #8b7d6b;
            font-size: 0.9rem;
        }
        
        /* 移动端适配 */
        @media (max-width: 768px) {
            .couplet { font-size: 1.5rem; letter-spacing: 5px; }
            .couplet.left { left: 10px; }
            .couplet.right { right: 10px; }
            .muyu-container { width: 200px; height: 200px; }
        }
    </style>
</head>
<body>

    <!-- 左右对联 -->
    <div class="couplet left">闻木鱼声</div>
    <div class="couplet right">烦恼皆除</div>

    <header>
        <h1>在线祈福</h1>
        <div class="counter-box">今日功德：<span id="count">0</span></div>
    </header>

    <!-- 木鱼交互区 -->
    <div class="muyu-container" id="muyu">
        <!-- 佛光涟漪生成位置 -->
        <svg id="muyu-svg" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
            <!-- 简单的木鱼图形绘制 -->
            <defs>
                <radialGradient id="woodGradient" cx="30%" cy="30%" r="70%">
                    <stop offset="0%" style="stop-color:#8a6e4b;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#4a3b2a;stop-opacity:1" />
                </radialGradient>
            </defs>
            <!-- 木鱼主体 -->
            <path d="M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z" fill="url(#woodGradient)"/>
            <!-- 鱼嘴开口 -->
            <path d="M420 256c0 15-50 10-164 10S92 271 92 256s50-50 164-50 164 35 164 50z" fill="#2a1f18"/>
            <!-- 鱼眼装饰（简约） -->
            <circle cx="150" cy="180" r="20" fill="#2a1f18" opacity="0.6"/>
            <circle cx="362" cy="180" r="20" fill="#2a1f18" opacity="0.6"/>
            <!-- 高光 -->
            <ellipse cx="200" cy="150" rx="80" ry="40" fill="#ffffff" opacity="0.1" transform="rotate(-20)"/>
        </svg>
    </div>

    <footer>
        点击木鱼 · 积攒功德 · 内心平静
    </footer>

    <script>
        const muyu = document.getElementById('muyu');
        const countDisplay = document.getElementById('count');
        let meritCount = 0;

        // 木鱼音效 (使用短促的敲击声 Base64，避免跨域和加载延迟问题)
        // 这是一个模拟木鱼的短促低频声音
        const soundUri = 'data:audio/mp3;base64,SUQzBAAAAAABAFRYWFgAAAASAAADbWFqb3JfYnJhbmQAbXA0MgBUWFhYAAAAEQAAA21pbm9yX3ZlcnNpb24AMABUWFhYAAAAHAAAA2NvbXBhdGlibZVfYnJhbmRzAGlzb21tcDQyAP/7UAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAInfoADEAAAAAABgAAAAAAAAAAAE3qqBAAAAAABj//7UAAQAAAAAAA0gAAAAABgAAAAAAAAAAAE3qqBAAAAAABj//7UAAgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAAwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UABAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UABQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UABgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UABwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UACAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UACQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UACgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UACwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UADAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UADQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UADgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UADwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAEAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAERAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAESAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAETAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEVAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEWAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEXAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEYAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEZAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEaAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEbAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEcAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEdAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEeAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAEfAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAFwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAGAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAGQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAGgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAGwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAHAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAHQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAHgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAHwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAIAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAIVAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAIdAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAIlAAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAIwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAI4AAAAAABAAAAAAAABAAAAAAAAAAE3qqBAAAAAABj//7UAJAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAJQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAJgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAJwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAKAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAKQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAKgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAKwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UALAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UALQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UALgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UALwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAMAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAMQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAMgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAMwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UANAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UANQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UANgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UANwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAOAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAOQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAOgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAOwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAPAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAPQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAPgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAPwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAQAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAQQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAQgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAQwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UARAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UARQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UARgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UARwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UASAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UASQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UASgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UASwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UATAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UATQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UATgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UATwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAUAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAUQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAUgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAUwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAVAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAVQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAVgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAVwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAWAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAWQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAWgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAWwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAXAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAXQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAXgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAXwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAYAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAYQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAYgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAYwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAZAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAZQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAZgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAZwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAaAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAaQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAagAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAawAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAbAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAbQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAbgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAbwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAcAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAcQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAcgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAcwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAdAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAdQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAdgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAdwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAeAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAeQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAegAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAewAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAfAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAfQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAfgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAfwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAgAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAgQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAggAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAgwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAhAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAhQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAhgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAhwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAiAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAiQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAigAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAiwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAjAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAjQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAjgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAjwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAkAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAkQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAkgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAkwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAlAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAlQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAlgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAlwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAmAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAmQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAmgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAmwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAnAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAnQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAngAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAnwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAoAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAoQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAogAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAowAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UApAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UApQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UApgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UApwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAqAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAqQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAqgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAqwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UArAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UArQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UArgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UArwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAsAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAsQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAsgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAswAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAtAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAtQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAtgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAtwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAuAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAuQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAugAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAuwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAvAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAvQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAvgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAvwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAwAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAwQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAwgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAwwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAxAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAxQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAxgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAxwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAyAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAyQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAygAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAywAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAzAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAzQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAzgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UAzwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA0AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA0QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA0gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA0wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA1AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA1QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA1gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA1wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA2AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA2QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA2gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA2wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA3AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA3QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA3gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA3wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA4AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA4QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA4gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA4wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA5AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA5QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA5gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA5wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA6AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA6QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA6gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA6wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA7AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA7QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA7gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA7wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA8AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA8QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA8gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA8wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA9AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA9QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA9gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA9wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA+AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA+QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA+gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA+wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA/AAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA/QAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA/gAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UA/wAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UBAAAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UBAQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UBAgAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UBAwAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj//7UBAQAAAAAAAwAAAAACAAAAAAAAAAAAE3qqBAAAAAABj';
        
        // 预加载音频
        const audio = new Audio(soundUri);

        muyu.addEventListener('mousedown', knock);
        muyu.addEventListener('touchstart', (e) => {
            e.preventDefault(); // 防止触摸时触发两次
            knock(e);
        });

        function knock(e) {
            // 1. 增加功德计数
            meritCount++;
            countDisplay.innerText = meritCount;

            // 2. 播放声音 (复位进度以支持快速点击)
            audio.currentTime = 0;
            audio.play().catch(err => console.log('Audio play failed need user interaction first', err));

            // 3. 木鱼收缩动画
            muyu.classList.add('muyu-active');
            setTimeout(() => {
                muyu.classList.remove('muyu-active');
            }, 100);

            // 4. 生成佛光涟漪
            createRipple();

            // 5. 生成功德飘字
            createFloatingText();
        }

        function createRipple() {
            const ripple = document.createElement('div');
            ripple.classList.add('ripple');
            // 让涟漪居中
            ripple.style.left = '50%';
            ripple.style.top = '50%';
            ripple.style.transform = 'translate(-50%, -50%)';
            
            muyu.appendChild(ripple);

            // 动画结束后移除元素
            setTimeout(() => {
                ripple.remove();
            }, 1000);
        }

        function createFloatingText() {
            const text = document.createElement('div');
            text.innerText = '功德 +1';
            text.classList.add('merit-text');
            
            // 随机微调文字出现的位置，更有动感
            const randomX = (Math.random() - 0.5) * 40;
            text.style.left = `calc(50% + ${randomX}px)`;
            text.style.top = '30%';

            muyu.appendChild(text);

            setTimeout(() => {
                text.remove();
            }, 1000);
        }
    </script>
</body>
</html>